<html dir="ltr"><head><title>What is Azure File Sync? - Learn :: Reader View</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <style>
html {
  overflow: overlay;
}
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  margin: 30px auto 0 auto;
  padding: 10px;
}
body[data-mode="light"] {
  color:  #222;
  background-color:  whitesmoke;
}
body[data-mode="dark"] {
  color:  #eee;
  background-color:  #333;
}
body[data-mode="sepia"] {
  color:  #5b4636;
  background-color:  #f4ecd8;
}
body[data-mode="solarized-light"] {
  color:  #586e75;
  background-color:  #fdf6e3;
}
body[data-mode="nord-light"] {
  color:  #2e3440;
  background-color:  #e5e9f0;
}
body[data-mode="groove-dark"] {
  color:  #cec4ac;
  background-color:  #282828;
}
body[data-mode="solarized-dark"] {
  color:  #93a1a1;
  background-color:  #002b36;
}
body[data-mode="nord-dark"] {
  color:  #e5e9f0;
  background-color:  #2e3440;
}
@media print {
  body[data-mode="light"],
  body[data-mode="dark"],
  body[data-mode="sepia"],
  body[data-mode="solarized-light"],
  body[data-mode="nord-light"],
  body[data-mode="groove-dark"],
  body[data-mode="solarized-dark"],
  body[data-mode="nord-dark"] {
    color: #000;
    background-color: #fff;
  }
}
body[data-loaded=true] {
  
}
img {
  max-width: 100%;
  height: auto;
}
body[data-images=false] canvas,
body[data-images=false] svg,
body[data-images=false] img {
  display: none;
}
a {
  color: #0095dd;
  text-decoration: none;
}
#reader-domain {
  font-family: Helvetica, Arial, sans-serif;
  text-decoration: none;
  border-bottom-color: currentcolor;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  width: 100%;
  display: inline-block;
  direction: ltr;
}
#reader-domain > span:first-child {
  font-size: 1.1em;
}
#reader-domain > span:last-child {
  font-size: 0.8em;
}
#reader-title {
  font-size: 1.6em;
  line-height: 1.25em;
  width: 100%;
  margin: 20px 0;
  padding: 0;
}
#reader-credits {
  font-size: 0.9em;
  line-height: 1.48em;
  margin: 0 0 10px 0;
  padding: 0;
  font-style: italic;
}
#reader-estimated-time {
  font-size: 0.85em;
  line-height: 1.48em;
  margin: 0 0 10px 0;
  padding: 0;
}
#reader-credits:empty {
  display: none;
}
body[data-speech="true"] .tts-box {
  position: absolute;
  left: 0;
  width: 100vw;
  height: 32px;
  z-index: 1;
  pointer-events: none;
  box-shadow: 0 0 0 1000vw rgba(128, 128, 128, 0.2);
}
body[data-speech="true"] .tts-word {
  position: absolute;
  z-index: 1;
  pointer-events: none;
  background-color: red;
  height: 2px;
}
.tts-word.hidden,
.tts-box.hidden {
  display: none;
}
body[data-speech="false"] .tts-speaking::after {
  display: none;
}
mark.hghlght {
  background-color: #ffff81;
}
</style>
  <style id="user-css">body {
  padding-bottom: 64px;
}
a:visited {
  color: #d33bf0;
}
a:link, a:link:hover, a:link:active {
  color: #0095dd;
}
a:link {
  text-decoration: none;
  font-weight: normal;
}
pre {
  white-space: pre-wrap;
}
pre code {
  background-color: #eff0f1;
  color: #393318;
  font-family: monospace;
  display: block;
  padding: 5px 10px;
}
body[data-mode="dark"] pre code {
  background-color: #585858;
  color: #e8e8e8;
}

/* CSS for sans-serif fonts */
body[data-font=sans-serif] {}
/* CSS for serif fonts */
body[data-font=serif] {}

/* CSS for "sepia" theme */
body[data-mode=sepia] {
}
/* CSS for "light" theme */
body[data-mode=light] {}
/* CSS for "dark" theme */
body[data-mode=dark] {}</style>
</head>
<body data-images="true" data-mode="sepia" data-font="sans-serif" data-loaded="true">
  <span></span> <!-- for IntersectionObserver -->
  <a id="reader-domain" href="https://docs.microsoft.com/en-gb/learn/modules/extend-share-capacity-with-azure-file-sync/2-what-azure-file-sync">
    <span>docs.microsoft.com</span>
    <span>/en-gb/learn/modules/extend-share-capacity-with-azure-file-sync/2-what-azure-file-sync</span>
  </a>
  <h1 dir="auto" id="reader-title">What is Azure File Sync? - Learn</h1>
  <div dir="auto" id="reader-credits">cwatson-cat</div>
  <div dir="auto" id="reader-estimated-time">5-6 minutes</div>
  <hr>
  <div id="readability-page-1" class="page"><div id="unit-inner-section">
		
		
		<ul>
			<li>6 minutes</li>
		</ul>
			<p>Azure File Sync allows you to extend your on-premises file shares into Azure. It works with your existing on-premises file shares to expand your storage capacity and provide redundancy in the cloud. It requires Windows Server 2012 R2 or later. You can access your on-premises file share with any supported file sharing protocol that Windows Server supports, like SMB, NFS, or FTPS.</p>
<p>You're researching the tools available to extend your on-premises file share capacity into Azure. You want to understand Azure File Sync, how it works, and how it can help increase your file share capacity.</p>
<p>In this unit, you'll explore what Azure File Sync is, how it works, and what you need to do to support it.</p>
<h2 id="extend-storage-capacity">Extend storage capacity</h2>
<p>Azure File Sync uses your on-premises file server as a local cache for your Azure file share. With cloud tiering, you can cache locally on your file server the files your organization uses the most. The files that are used less frequently are accessible from the same local share, but only a pointer to the data is stored there. When a user goes to open the file, the rest of the file data is pulled from Azure Files.</p>
<p>The following diagram shows what happens when a user requests two files. File A is used frequently, so the entire file is available on the local file share. File B isn't used often, so the rest of the file is retrieved from the Azure file share.</p>
<p><img src="https://docs.microsoft.com/en-gb/learn/modules/extend-share-capacity-with-azure-file-sync/media/2-azure-file-sync-extend-file-share.png" alt="Diagram that shows the local share returning file A and the Azure file share returning data for file B." data-linktype="relative-path"></p>
<p>With cloud tiering, you're storing a smaller set of file data locally. So you have more local storage space for the files your organization uses more often.</p>
<p>By default, cloud tiering is off. You enable it when you create the server endpoint.</p>
<h2 id="terminology">Terminology</h2>
<p>There are some terms you need to understand to use Azure File Sync.</p>
<ul>
<li><p><em>Storage Sync Service</em> is the high-level Azure resource for Azure File Sync. The service is a peer of the storage account, and it can also be deployed to Azure resource groups.</p>
</li>
<li><p>A <em>sync group</em> outlines the replication topology for a set of files or folders. All endpoints located in the same sync group are kept in sync with each other. If you have different sets of files that must be in sync and managed with Azure File Sync, you would create two sync groups and different endpoints.</p>
</li>
<li><p>A <em>registered server</em> represents the trust relationship between the on-premises server and the Storage Sync Service. You can register multiple servers to the Storage Sync Service. But a server can be registered with only one Storage Sync Service at a time.</p>
</li>
<li><p><em>Azure File Sync agent</em> is a downloadable package that enables Windows Server to be synced with an Azure file share. The agent has three components:</p>
<ul>
<li><em>FileSyncSvc.exe</em>. Service that monitors changes on endpoints.</li>
<li><em>StorageSync.sys</em>. Azure file system filter driver.</li>
<li>PowerShell management cmdlets.</li>
</ul>
</li>
<li><p>A <em>server endpoint</em> represents a specific location on a registered server, like a folder on a local disk. Multiple server endpoints can exist on the same volume if their paths don't overlap.</p>
</li>
<li><p>The <em>cloud endpoint</em> is the Azure file share that's part of a sync group. The whole file share syncs and can be a member of only one cloud endpoint. An Azure file share can be a member of only one sync group at a time.</p>
</li>
<li><p><em>Cloud tiering</em> is an optional feature of Azure File Sync that allows frequently accessed files to be cached locally on the server. Files are cached or tiered according to the cloud tiering policy you create.</p>
</li>
</ul>
<h2 id="how-does-it-work">How does it work?</h2>
<p>Azure File Sync uses a software-based agent that's installed on the on-premises server that you want to replicate. This agent communicates with the Storage Sync Service.</p>
<p>Azure File Sync uses Windows USN journaling on the Windows Server computer to automatically start a sync session when files change on the server endpoint. So changes made to the on-premises file share are immediately detected and replicated to the Azure file share.</p>
<p>Azure Files doesn't yet have change notification or journaling. So Azure File Sync has a scheduled job called a <em>change detection job</em>. This job is initiated every 24 hours. So if you change a file on the Azure file share, you might not see the change on the on-premises file share for at least 24 hours.</p>
<h2 id="deployment-process">Deployment process</h2>
<p>The following steps describe the high-level process you use to set up Azure File Sync.</p>
<ol>
<li><em>Evaluate your on-premises system</em>:  Run the evaluation cmdlet on your on-premises server to check whether your OS and file system are supported.</li>
<li><em>Create Azure resources</em>: You need a storage account to contain a file share, a Storage Sync Service, and a sync group. Create the resources in that order.</li>
<li><em>Install the Azure File Sync agent</em>: Install the agent on each file server that's taking part in replication to the Storage Sync Service.</li>
<li><em>Register the Windows Server computer with the Storage Sync Service</em>: After you install the sync agent, you're prompted to register the server with the Storage Sync Service.</li>
<li><em>Create the server endpoint</em>: After the server is registered, you add it as an endpoint in the sync group.</li>
</ol>
<p>We'll cover these steps in the following units.</p>

		<div id="next-section"><hr><div>
		<h2>Next unit: Check Windows Server readiness</h2>
		<p>
			<a href="https://docs.microsoft.com/en-gb/learn/modules/extend-share-capacity-with-azure-file-sync/3-check-windows-server-readiness/" data-bi-name="continue">
			<span>Continue</span>
			
			</a>
		</p>
	</div></div>
	</div></div>
  <span></span> <!-- for IntersectionObserver -->
  
  
  
  


</body><style>body {
      font-size:  13px;
      font-family: Helvetica, Arial, sans-serif;
      width: 600px;
    }
    .page {
      line-height: unset;
    }
    h1, h2, h3 {
      line-height: initial;
    }</style></html>